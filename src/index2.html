<html>
    <head>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.slim.js"></script>
    </head>

</html>
<body>
    <button onclick="joinSpooky()">join Spooky</button>
    <button onclick="setProfile()">set Profile</button>
    <input type="text" name="teks" id="teks">
    <button onclick="sendChat('R5baa246d6bfca414f46d96dd')">send</button>
</body>
<script>
    var sender;
    var socket = io('http://192.168.1.216:3000');
    function joinSpooky(){
        sender = document.getElementById('teks').value;
        // socket.emit('spookyRoom', {user_id: sender});
        socket.emit('createPrivateRoom', {participant_id: 92});
    }
    function setProfile(){
        // socket.emit('setProfile', 'JAuth eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo3LCJ1c2VyX25hbWUiOiJCaWtzdSIsInVzZXJuYW1lIjoiYmlzdSIsInVzZXJfcGhvbmVudW0iOm51bGwsImlhdCI6MTUzNzg3OTI1NH0.ZswBFhH_5WXF3eKLc4GUGBvZsRyrCANOYgLxuVZyqx0');
        socket.emit('setProfile', 'JAuth eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjo1LCJ1c2VyX25hbWUiOiJSb2JpdGgiLCJ1c2VybmFtZSI6InJvYml0aCIsInVzZXJfcGhvbmVudW0iOm51bGwsImlhdCI6MTUzODAxNTA3OX0.zrlSJ3-XSx84mOos1ixQ33uGzbQGkNIAdVreYHrFCzU');
    }
    function sendChat(room){
        socket.emit('sendChat', {room_id: room, message: document.getElementById('teks').value});
    }
    socket.on('createPrivateRoom:response', function(res) {
        console.log('response '+ JSON.stringify(res));
    });
    socket.on('setProfile:response', function(res){
        console.log('response: ' + JSON.stringify(res));
    });
    socket.on('receiveChat', function(res){
        console.log('receiveChat: ' + JSON.stringify(res));
    });
    socket.on('spookyRoom:chat', function(res) {
        console.log('spookerChat :  '+ JSON.stringify(res));
    });
</script>
